"use strict";function e(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react"));function n({debounceMs:e}){const[n,r]=t.useState(window.innerWidth),o=function(e,t){let n=null;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e(r)),t)}}((()=>r(window.innerWidth)),e);return t.useEffect((()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o))),[o]),n}const r=t.forwardRef((({as:e="div",children:r,className:o,style:s,gap:i=10,debounce:c=200,nColumns:l=3},a)=>{const u=n({debounceMs:c}),[d,m]=t.useState([]);t.useLayoutEffect((()=>{const e=e=>e.sort(((e,t)=>e.size-t.size)),n="number"==typeof l?{columns:l}:(e=>e?.[e.length-1])(e(((e,t)=>e.filter((e=>e.size<=t)))(l,u)))??(e=>e?.[0])(e(l));const o=Array.from({length:n.columns},(e=>[]));t.Children.forEach(r,((e,n)=>{const r=`item-${n}`,s=t.cloneElement(e,{...e.props,key:r});o[n%o.length].push(s)})),m(o)}),[r,l,u]);const f={mainGrid:{display:"grid",gridTemplateColumns:`repeat(${d.length}, 1fr)`,columnGap:i,alignItems:"start"},columnGrid:{display:"grid",gridTemplateColumns:"100%",rowGap:i}};return t.createElement(e,{ref:a,"data-testid":"plock-container",className:o,style:{style:s,...f.mainGrid}},d.map(((e,n)=>t.createElement("div",{"data-testid":"plock-column",style:f.columnGrid,key:n},e))))}));exports.Plock=r;
//# sourceMappingURL=index.js.map
